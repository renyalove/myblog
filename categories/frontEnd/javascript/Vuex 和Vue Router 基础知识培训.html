<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vuex 和 Vue Router 基础知识 | practice makes perfect</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/myblog/logo.png">
    <meta name="description" content="Be the change you want to see in the world!">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/myblog/assets/css/0.styles.cf9e26c4.css" as="style"><link rel="preload" href="/myblog/assets/js/app.e2692b97.js" as="script"><link rel="preload" href="/myblog/assets/js/3.643a243b.js" as="script"><link rel="preload" href="/myblog/assets/js/1.15ab7d5d.js" as="script"><link rel="preload" href="/myblog/assets/js/22.a2f52c74.js" as="script"><link rel="prefetch" href="/myblog/assets/js/10.cf1dd999.js"><link rel="prefetch" href="/myblog/assets/js/11.d1fba595.js"><link rel="prefetch" href="/myblog/assets/js/12.49a35545.js"><link rel="prefetch" href="/myblog/assets/js/13.24bc60ac.js"><link rel="prefetch" href="/myblog/assets/js/14.ea7e51df.js"><link rel="prefetch" href="/myblog/assets/js/15.1c17a0d4.js"><link rel="prefetch" href="/myblog/assets/js/16.e9513fb0.js"><link rel="prefetch" href="/myblog/assets/js/17.10c61b39.js"><link rel="prefetch" href="/myblog/assets/js/18.197011f4.js"><link rel="prefetch" href="/myblog/assets/js/19.438c4acb.js"><link rel="prefetch" href="/myblog/assets/js/20.adcd5d04.js"><link rel="prefetch" href="/myblog/assets/js/21.abc90e7e.js"><link rel="prefetch" href="/myblog/assets/js/23.e3d157d5.js"><link rel="prefetch" href="/myblog/assets/js/24.a3a02485.js"><link rel="prefetch" href="/myblog/assets/js/25.83c5a05b.js"><link rel="prefetch" href="/myblog/assets/js/26.9b44d41c.js"><link rel="prefetch" href="/myblog/assets/js/27.1ffb7c5b.js"><link rel="prefetch" href="/myblog/assets/js/28.16e5a2ab.js"><link rel="prefetch" href="/myblog/assets/js/29.f97eefe1.js"><link rel="prefetch" href="/myblog/assets/js/30.35be2812.js"><link rel="prefetch" href="/myblog/assets/js/31.889470dd.js"><link rel="prefetch" href="/myblog/assets/js/32.45f6f278.js"><link rel="prefetch" href="/myblog/assets/js/33.0212f8d9.js"><link rel="prefetch" href="/myblog/assets/js/34.70024183.js"><link rel="prefetch" href="/myblog/assets/js/35.77f18f5d.js"><link rel="prefetch" href="/myblog/assets/js/36.05967d54.js"><link rel="prefetch" href="/myblog/assets/js/37.62382d05.js"><link rel="prefetch" href="/myblog/assets/js/38.3a6dbd0a.js"><link rel="prefetch" href="/myblog/assets/js/39.f2fd6fd5.js"><link rel="prefetch" href="/myblog/assets/js/4.ef4326c4.js"><link rel="prefetch" href="/myblog/assets/js/40.850db6f2.js"><link rel="prefetch" href="/myblog/assets/js/41.02b072f8.js"><link rel="prefetch" href="/myblog/assets/js/42.14cbe669.js"><link rel="prefetch" href="/myblog/assets/js/5.e628a958.js"><link rel="prefetch" href="/myblog/assets/js/6.82cbc161.js"><link rel="prefetch" href="/myblog/assets/js/7.80c6ab6c.js"><link rel="prefetch" href="/myblog/assets/js/8.1e6c6b33.js"><link rel="prefetch" href="/myblog/assets/js/9.d82d6dd3.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.cf9e26c4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-19557b78><div data-v-19557b78><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-19557b78 data-v-19557b78><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-19557b78 data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>practice makes perfect</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>sera Ren</span>
            
          <!---->
          2020
        </a></span></div></div> <div class="hide" data-v-19557b78><header class="navbar" data-v-19557b78><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myblog/" class="home-link router-link-active"><img src="/myblog/logo.png" alt="practice makes perfect" class="logo"> <span class="site-name">practice makes perfect</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/categories/Essays/" class="nav-link"><i class="iconfont undefined"></i>
  Essays
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/frontEnd/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  frontEnd
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/algorithm/" class="nav-link"><i class="iconfont undefined"></i>
  algorithm
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/other/" class="nav-link"><i class="iconfont undefined"></i>
  other
</a></li></ul></div></div><div class="nav-item"><a href="/myblog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/myblog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/e4178d3b37a4" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/renyalove?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      高级
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/language/chinese.html" class="nav-link"><i class="iconfont undefined"></i>
  冒泡
</a></li><li class="dropdown-subitem"><a href="/myblog/language/japanese.html" class="nav-link"><i class="iconfont undefined"></i>
  快速
</a></li></ul></li><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/language/chinese.html" class="nav-link"><i class="iconfont undefined"></i>
  工厂
</a></li><li class="dropdown-subitem"><a href="/myblog/language/chinese.html" class="nav-link"><i class="iconfont undefined"></i>
  单例
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-19557b78></div> <aside class="sidebar" data-v-19557b78><div class="personal-info-wrapper" data-v-042e23d4><img src="/myblog/logo.png" alt="author-avatar" class="personal-img" data-v-042e23d4> <h3 class="name" data-v-042e23d4>
    sera Ren
  </h3> <div class="num" data-v-042e23d4><div data-v-042e23d4><h3 data-v-042e23d4>17</h3> <h6 data-v-042e23d4>Article</h6></div> <div data-v-042e23d4><h3 data-v-042e23d4>13</h3> <h6 data-v-042e23d4>Tag</h6></div></div> <hr data-v-042e23d4></div> <nav class="nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/categories/Essays/" class="nav-link"><i class="iconfont undefined"></i>
  Essays
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/frontEnd/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  frontEnd
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/algorithm/" class="nav-link"><i class="iconfont undefined"></i>
  algorithm
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/other/" class="nav-link"><i class="iconfont undefined"></i>
  other
</a></li></ul></div></div><div class="nav-item"><a href="/myblog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/myblog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/e4178d3b37a4" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/renyalove?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      高级
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/language/chinese.html" class="nav-link"><i class="iconfont undefined"></i>
  冒泡
</a></li><li class="dropdown-subitem"><a href="/myblog/language/japanese.html" class="nav-link"><i class="iconfont undefined"></i>
  快速
</a></li></ul></li><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/language/chinese.html" class="nav-link"><i class="iconfont undefined"></i>
  工厂
</a></li><li class="dropdown-subitem"><a href="/myblog/language/chinese.html" class="nav-link"><i class="iconfont undefined"></i>
  单例
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vuex 和 Vue Router 基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#一、vue-cli项目中使用ant-design-vue-组件" class="sidebar-link">一、vue-cli项目中使用Ant Design Vue 组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_1-1-创建项目" class="sidebar-link">1.1 创建项目</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_1-2-使用ant-design-vue组件" class="sidebar-link">1.2 使用Ant Design Vue组件</a></li></ul></li><li><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#二、vuex的使用" class="sidebar-link">二、Vuex的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_2-1-vuex的基本使用" class="sidebar-link">2.1 Vuex的基本使用</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_2-2-vuex的核心概念" class="sidebar-link">2.2 Vuex的核心概念</a></li></ul></li><li><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#总结" class="sidebar-link">总结</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#三、vue-router的使用" class="sidebar-link">三、vue-router的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_3-1-什么是路由" class="sidebar-link">3.1 什么是路由</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_3-2-实现页面跳转的方式" class="sidebar-link">3.2 实现页面跳转的方式</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_3-3-在-vue-中使用-vue-router" class="sidebar-link">3.3 在 vue 中使用 vue-router</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_3-4-vue-router参数传递" class="sidebar-link">3.4  vue-router参数传递</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_3-5-路由的重定向" class="sidebar-link">3.5 路由的重定向</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_3-6-设置404页面" class="sidebar-link">3.6  设置404页面</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_3-7-使用-children-属性实现路由嵌套" class="sidebar-link">3.7 使用 children 属性实现路由嵌套</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_3-8-路由元信息" class="sidebar-link">3.8  路由元信息</a></li><li class="sidebar-sub-header"><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#_3-6-route-和-router的区别" class="sidebar-link">3.6  $route 和 $router的区别</a></li></ul></li><li><a href="/myblog/categories/frontEnd/javascript/Vuex%20%E5%92%8CVue%20Router%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9F%B9%E8%AE%AD.html#四、前端工程化" class="sidebar-link">四、前端工程化</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Vuex 和 Vue Router 基础知识</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>sera Ren</span>
            
          <!---->
          2020
        </a></span></div></div> <div data-v-19557b78><main class="page"><div class="page-title" style="display:none;"><h1>Vuex 和 Vue Router 基础知识</h1> <hr> <div data-v-34ea29db><i class="iconfont reco-account" data-v-34ea29db><span data-v-34ea29db>sera Ren</span></i> <i class="iconfont reco-date" data-v-34ea29db><span data-v-34ea29db>2020-08-26</span></i> <!----> <i class="iconfont reco-tag tags" data-v-34ea29db><span class="tag-item" data-v-34ea29db>vue-cli</span><span class="tag-item" data-v-34ea29db>vue</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="vuex-和-vue-router-基础知识"><a href="#vuex-和-vue-router-基础知识" class="header-anchor">#</a> Vuex 和 Vue Router 基础知识</h1> <h2 id="一、vue-cli项目中使用ant-design-vue-组件"><a href="#一、vue-cli项目中使用ant-design-vue-组件" class="header-anchor">#</a> 一、vue-cli项目中使用Ant Design Vue 组件</h2> <h3 id="_1-1-创建项目"><a href="#_1-1-创建项目" class="header-anchor">#</a> <strong>1.1 创建项目</strong></h3> <p>手动安装vuex、vue-router、axios</p> <div class="language- extra-class"><pre class="language-text"><code>vue create vue_demo
</code></pre></div><h3 id="_1-2-使用ant-design-vue组件"><a href="#_1-2-使用ant-design-vue组件" class="header-anchor">#</a> <strong>1.2 使用Ant Design Vue组件</strong></h3> <div class="language-cmd extra-class"><pre class="language-text"><code># 安装ant-design-vue 
yarn add ant-design-vue 
# 按需使用需要安装（如果有警告）
yarn add babel-plugin-import
</code></pre></div><p>在main.js中导入：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span><span class="token keyword">from</span> <span class="token string">'ant-design-vue'</span>
<span class="token keyword">import</span> <span class="token string">'ant-design-vue/dist/antd.css'</span><span class="token punctuation">;</span><span class="token comment">//需要引入样式</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Button<span class="token punctuation">)</span>
</code></pre></div><p><strong>关闭Eslint校验</strong></p> <p>新建vue.config.js</p> <div class="language-js extra-class"><pre class="language-js"><code> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
     lintOnSave<span class="token operator">:</span><span class="token boolean">false</span>
 <span class="token punctuation">}</span>
</code></pre></div><h2 id="二、vuex的使用"><a href="#二、vuex的使用" class="header-anchor">#</a> 二、Vuex的使用</h2> <p>Vuex是一个专为Vue.js应用程序开发的状态管理模式，就是为了实现组件之间数据的共享。对于Vue来说，组件之间共享数据的方式：</p> <ul><li>父组件向子组件传值：v-bind属性绑定</li> <li>子组件向父组件传值：v-on事件绑定</li></ul> <p>一般情况下，只有组件之间共享的数据，才会必要存储到vuex中，对于组件中的私有数据，依旧存储在组件自身的data中即可。</p> <h3 id="_2-1-vuex的基本使用"><a href="#_2-1-vuex的基本使用" class="header-anchor">#</a> 2.1 Vuex的基本使用</h3> <ol><li>安装vuex依赖包</li></ol> <p>npm install vuex --save</p> <ol start="2"><li>导入vuex包</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>创建store对象</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// state中存放的就是全局共享的数据</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="4"><li>将store对象挂载到vue实例中</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">,</span>
    router<span class="token punctuation">,</span>
    <span class="token comment">// 将创建的共享数据对象，挂载到Vue实例中</span>
    <span class="token comment">// 所有的组件，就可以直接从store中获取全局的数据了</span>
    store
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Vue cli 中安装vuex之后自动初始化了使用的模板：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token comment">// state中存放的就是全局共享的数据  </span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
      count<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//Mutation是用于变更Store中的数据</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//Action 提交的是 mutation，而不是直接变更状态</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token comment">//将 store 分割成模块（module），实现嵌套</span>
  modules<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-2-vuex的核心概念"><a href="#_2-2-vuex的核心概念" class="header-anchor">#</a> 2.2 Vuex的核心概念</h3> <p>Vuex中的主要核心概念如下：</p> <ul><li>State</li> <li>Mutation</li> <li>Action</li> <li>Getter</li></ul> <h4 id="_2-1-state"><a href="#_2-1-state" class="header-anchor">#</a> 2.1 State</h4> <p>在Vuex中，State提供唯一的公共数据源，所有共享的数据都要统一放到Store的State中进行存储，这里的Store相当于一个用于存储数据的公共容器。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>组件访问State中数据的第一种方式</strong></p> <div class="language- extra-class"><pre class="language-text"><code>this.$store.state.全局数据名称
</code></pre></div><p>如果是在html元素组件之间调用，则可以省略this，即：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;span&gt;{{$store.state.全局数据名称}}&lt;/span&gt;
</code></pre></div><p><strong>组件访问State中数据的第二种方式</strong></p> <p>通过mapState辅助函数方式，实现组件访问State中数据的第二种方式</p> <div class="language- extra-class"><pre class="language-text"><code>// 1. 从vuex中按需导入mapState函数
import { mapState } from 'vuex'
</code></pre></div><p>通过刚才导入的mapState函数，将当前组件需要的全局数据，映射为当前的computed计算属性：</p> <div class="language- extra-class"><pre class="language-text"><code>// 2. 将全局数据映射为当前组件的计算属性
computed: {
    // ...表示展开映射，意思就是将全局属性映射为当前组件的计算属性
  ...mapState(['count','msg'])
}
</code></pre></div><p>直接在调用获取组件属性</p> <div class="language- extra-class"><pre class="language-text"><code>      &lt;h1&gt;{{this.$store.state.count}}&lt;/h1&gt;
      &lt;h1&gt;{{msg}}&lt;/h1&gt;
</code></pre></div><h4 id="_2-2-mutation"><a href="#_2-2-mutation" class="header-anchor">#</a> 2.2 Mutation</h4> <p>Vuex中的Mutation是用于变更Store中的数据。</p> <p>在Vuex中，<strong>只能通过mutation变更Store数据</strong>，不可以直接操作Store中的数据。虽然通过mutation的方式来操作数据，虽然繁琐了一点，但是却可以集中监控所有数据的变化。</p> <p>例如需要让全局数据自增加1，则可以通过如下的方式在Mutation中定义。</p> <div class="language- extra-class"><pre class="language-text"><code>const store = new Vuex.Store({
    state: {
        count: 0
    },
    mutations: {
        add(state) {
            //变更状态
            state.count++;
        }
    }
})
</code></pre></div><p>定义完mutation之后，下面就来介绍下Vuex的触发方式：</p> <p><strong>触发mutation方式一</strong></p> <p>通过$store.commit()函数来触发mutation。</p> <div class="language- extra-class"><pre class="language-text"><code>methods: {
    handle1 () {
        // 触发mutations的第一种方式
        this.$store.commit('add')
    }
}
</code></pre></div><p>接着就可以通过@click方法来调用handle1，从而来触发mutation函数。</p> <p>另外，可以在触发mutation函数时，传入参数：</p> <div class="language- extra-class"><pre class="language-text"><code>const store = new Vuex.Store({
    state: {
        count: 0
    },
    mutations: {
        add(state) {
            //变更状态
            state.count++;
        },
        addN(state, n) {
            state.count += n;
        }
    }
})
</code></pre></div><p>然后定义handler2</p> <div class="language- extra-class"><pre class="language-text"><code>methods: {
    handler2: {
        this.$store.commit('addN', 5);
    }
}
</code></pre></div><p><strong>触发mutation方式二</strong></p> <p>通过导入mapMutations辅助函数来触发mutations。</p> <div class="language-html extra-class"><pre class="language-html"><code>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handler1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> +1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handler2(5)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> +5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addN(10)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> +10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. 从vuex中按需导入mapMutations函数</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token operator">...</span>

<span class="token comment">// 2. 将制定的mutations函数映射为当前组件的methods函数</span>
methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将add、addN方法映射为methods中的函数，拱当前组件使用。</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'addN'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">handler1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handler2</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addN</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 或者直接在标签元素中直接@click=addN()</span>
<span class="token punctuation">}</span>

</code></pre></div><p>对于mutations来说，只能够实现同步操作，不可以执行异步操作的。</p> <h4 id="_2-3-action"><a href="#_2-3-action" class="header-anchor">#</a> 2.3 Action</h4> <p>从vuex官网中可以了解到，Action类似于mutation，不同之处在于：</p> <ul><li>Action 提交的是 mutation，而不是直接变更状态。</li> <li>Action 可以包含任意异步操作。</li></ul> <p>可以得出一个结论就是，<strong>如果通过异步操作变更数据，必须通过Action，而不能使用Mutation</strong>，但是在Action中还是要通过触发Mutation的方式间接变更数据。</p> <p><strong>如何定义Actions呢？</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    msg<span class="token operator">:</span> <span class="token string">'hello vuex'</span><span class="token punctuation">,</span>
    testData<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">addN</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">+=</span>n
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">initinfo</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
      state<span class="token punctuation">.</span>testData <span class="token operator">=</span> data
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 定义一个异步操作,可以直接请求到public中的文件</span>
    <span class="token comment">// 使用context 提交mutation，再改变数据</span>
    <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/test.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'initinfo'</span><span class="token punctuation">,</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>需要再次强调的是，只有通过mutation中定义的函数，才有权利去修改state中的数据，因此actions最终还是要调用mutation。</p> <p><strong>触发Actions的第一种方式</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">//使用dispatch函数</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'getInfo'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><strong>触发Actions的第二种方式</strong></p> <p>可以通过mapActions辅助函数的方式来触发Actions。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. 从vuex中按需导入mapActions函数</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token operator">...</span>

<span class="token comment">// 2. 将指定的actions函数，映射为当前组件的methods函数</span>
methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'getInfo'</span><span class="token punctuation">,</span><span class="token string">'addAsync'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//可以自定义函数调用actions函数</span>
    <span class="token function">handleAddAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>可以在created生命周期函数中调用已经映射过的actions函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// this.$store.dispatch('getInfo')</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h4 id="_2-4-getter"><a href="#_2-4-getter" class="header-anchor">#</a> 2.4 Getter</h4> <p>在Vuex官网中，用到了派生这一词来介绍Getter，在这里可以理解为就是用于对Store中的数据进行加工处理，形成新的数据，类似Vue的计算属性。Getter的数据是基于Store中的数据的，所以当Store中数据发生变化时，Getter中的数据也会随之变化。</p> <p><strong>定义Getter</strong></p> <p>例如state中存有todos计划项，其对象有一个done状态表示完成与否。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    todos<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'学vuex'</span><span class="token punctuation">,</span> done<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'学router'</span><span class="token punctuation">,</span> done<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里通过getters定义的doneTodos方法来过滤已完成的todo项</span>
    <span class="token function-variable function">doneItems</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>done<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
      
    <span class="token comment">// 这里还可以通过传入getters对象来获取其他方法</span>
    <span class="token function-variable function">doneTodosCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> getters<span class="token punctuation">.</span>doneItems<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 传入参数</span>
    <span class="token function-variable function">getTodoById</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>id <span class="token operator">==</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>触发Getter定义函数的第一种方法</strong></p> <p>和获取states的数据类似。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>doneTodos <span class="token comment">// -&gt; [{id: 1, text: '...', done: true}]</span>
</code></pre></div><p><strong>触发Getter定义函数的第二种方法</strong></p> <p>通过mapGetters来触发Getters中定义的函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. 导入mapGetters辅助函数</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token operator">...</span>

<span class="token comment">// 2. 将制定的Getters函数映射为当前组件的函数，当成一个计算属性使用</span>
  computed<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'count'</span><span class="token punctuation">,</span><span class="token string">'msg'</span><span class="token punctuation">,</span><span class="token string">'data'</span><span class="token punctuation">,</span><span class="token string">'todos'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'doneItems'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><strong>使用：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item in doneItems<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{doneItems}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_2-5-module"><a href="#_2-5-module" class="header-anchor">#</a> 2.5 Module</h4> <p>当Store中存放了非常多非常大的共享数据对象时，应用会变的非常的复杂，Store对象也会非常臃肿，所以Vuex提供了一个Module模块来分隔Store。通过对Vuex中的Store分隔，分隔成一个一个的Module模块，每个Module模块都拥有自己的state、mutation、actions和getters。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> moduleB <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  modules<span class="token operator">:</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> moduleA<span class="token punctuation">,</span>
    b<span class="token operator">:</span> moduleB
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>a <span class="token comment">// -&gt; moduleA 的状态</span>
store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>b <span class="token comment">// -&gt; moduleB 的状态</span>
</code></pre></div><p>对于模块中的mutations和getters，传入的第一个参数规定为state，而actions则依旧是context参数。</p> <p>比如，新建一个module文件夹,新建user.js如下</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'sera'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            state<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Alice'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// actions: { ... },</span>
    <span class="token comment">// getters: { ... }</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> user
</code></pre></div><p>在index.js中引入：</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">import</span> user <span class="token keyword">from</span> <span class="token string">'./module/user'</span>
 <span class="token operator">...</span>

 modules<span class="token operator">:</span> <span class="token punctuation">{</span>
    user
  <span class="token punctuation">}</span>
</code></pre></div><p>在App.vue中使用的时候，就像index.js中定义的方式直接使用，因为会按顺序访问store模块、a模块和b模块的共享数据、同步/异步修改共享数据以及计算属性访问。</p> <div class="language-js extra-class"><pre class="language-js"><code>  methods<span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token comment">//直接加入user.js模块中的changeName函数</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'addN'</span><span class="token punctuation">,</span><span class="token string">'changeName'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'getInfo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        
    <span class="token function">handleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">// 同样可以使用两种方式提交Mutation函数   </span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// this.$store.commit('changeName')</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token comment">//可通过计算属性得到user.js中的state的数据</span>
    <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">.</span>name
    <span class="token punctuation">}</span> 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>在App.vue中使用模块user.js中的数据：</p> <div class="language-html extra-class"><pre class="language-html"><code>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>改名sera--&gt;Alice<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>在module中通过mapState、mapGetters、mapActions和mapMutations等辅助函数来绑定要触发的函数</strong>。</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <ol><li>Vuex主要用于管理Vue组件中共享的数据。</li> <li>Vuex中有state、mutation、action、getter等核心概念。</li> <li>获取state可以通过this.$store.state.xx或者是通过定义mapState来获取。</li> <li>修改state中的变量需要通过mutation函数实现，而mutation的触发由两种方式，一种是通过this.$store.commit()函数，另外一种就是通过mapMutations来实现。</li> <li>mutation只能用于修改数据，而Actions可以实现异步操作。</li> <li>通过Actions的异步操作mutation修改数据，可以实现异步修改数据。调用Actions有两种方式，第一种是通过this.$store.dispatch来调用，另外一种方式是通过mapActions来调用。</li> <li>Getters函数用于对Store中数据进行加工，不会修改原本Store中的数据；Getters中的数据会受Store中数据的影响。通过this.$store.getters.xxx或者mapGetters获取Getters中的数据。</li></ol> <h2 id="三、vue-router的使用"><a href="#三、vue-router的使用" class="header-anchor">#</a> 三、vue-router的使用</h2> <h3 id="_3-1-什么是路由"><a href="#_3-1-什么是路由" class="header-anchor">#</a> 3.1 什么是路由</h3> <p>vue的单页面应用是基于路由和组件的，路由用于设定访问路径，并将路径和组件映射起来。传统的页面应用，是用一些超链接来实现页面切换和跳转的。在vue-router单页面应用中，则是路径之间的切换，也就是组件的切换。<strong>路由模块的本质就是建立起url和页面之间的映射关系</strong>。</p> <p>单页面应用(SPA)的核心之一是: 更新视图而不重新请求页面;vue-router在实现单页面前端路由时，提供了两种方式：<strong>Hash模式和History模式</strong>；根据mode参数来决定采用哪一种方式。</p> <h4 id="_1、hash模式："><a href="#_1、hash模式：" class="header-anchor">#</a> 1、Hash模式：</h4> <p><strong>vue-router 默认 hash 模式 —— 使用 URL 的 hash 来模拟一个完整的 URL，于是当 URL 改变时，页面不会重新加载。</strong> hash（#）是URL 的锚点，代表的是网页中的一个位置，单单改变#后的部分，浏览器只会滚动到相应位置，不会重新加载网页，也就是说hash 出现在 URL 中，但不会被包含在 http 请求中，对后端完全没有影响，因此改变 hash 不会重新加载页面；同时每一次改变#后的部分，都会在浏览器的访问历史中增加一个记录，使用”后退”按钮，就可以回到上一个位置；所以说<strong>Hash模式通过锚点值的改变，根据不同的值，渲染指定DOM位置的不同数据。hash 模式的原理是 onhashchange 事件(监测hash值变化)，可以在 window 对象上监听这个事件</strong>。</p> <h4 id="_2、history模式："><a href="#_2、history模式：" class="header-anchor">#</a> 2、History模式：</h4> <p>由于hash模式会在url中自带#，如果不想要很丑的 hash，我们可以用路由的 history 模式，只需要在配置路由规则时，加入&quot;mode: 'history'&quot;,<strong>这种模式充分利用了html5 history interface 中新增的 pushState() 和 replaceState() 方法。这两个方法应用于浏览器记录栈，在当前已有的 back、forward、go 基础之上，它们提供了对历史记录修改的功能。只是当它们执行修改时，虽然改变了当前的 URL ，但浏览器不会立即向后端发送请求</strong>。</p> <h3 id="_3-2-实现页面跳转的方式"><a href="#_3-2-实现页面跳转的方式" class="header-anchor">#</a> 3.2 实现页面跳转的方式</h3> <ul><li>方式1：直接修改地址栏</li> <li>方式2：this.$router.push(‘路由地址’)</li> <li>方式3：<code>&lt;router-link to=&quot;路由地址&quot;&gt;&lt;/router-link&gt;</code></li></ul> <h3 id="_3-3-在-vue-中使用-vue-router"><a href="#_3-3-在-vue-中使用-vue-router" class="header-anchor">#</a> 3.3 在 vue 中使用 vue-router</h3> <ol><li>使用脚手架已经自动创建好了一个路由对象的实例——在router/index.js中：</li></ol> <div class="language- extra-class"><pre class="language-text"><code>const router = new VueRouter({
  mode: 'history',
  base: process.env.BASE_URL,
  routes
})
</code></pre></div><ol start="2"><li>通过 路由实例的routers 属性来定义路由匹配规则</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//导入路由要匹配到的路由组件</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../views/Home.vue'</span>
<span class="token operator">...</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
    <span class="token comment">//路由懒加载的方式导入</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;about&quot; */</span> <span class="token string">'../views/About.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><ol start="3"><li>可以使用 router-link 组件来导航，就像使用a标签一样。</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 使用 router-link 组件来导航 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/register<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>注册<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="4"><li>使用 router-view 组件来显示匹配到的组件</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 使用 router-view 组件来显示匹配到的组件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_3-4-vue-router参数传递"><a href="#_3-4-vue-router参数传递" class="header-anchor">#</a> 3.4  vue-router参数传递</h3> <h4 id="_1、利用url传递参数，以冒号的形式设置参数："><a href="#_1、利用url传递参数，以冒号的形式设置参数：" class="header-anchor">#</a> 1、利用url传递参数，以冒号的形式设置参数：</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>  path<span class="token operator">:</span> <span class="token string">'/register/:username'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Register <span class="token punctuation">}</span>
</code></pre></div><p>通过链接实现跳转：</p> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/register/sera<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>注册Sera  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/register/tom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>注册Tom <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>通过 <code>this.$route.params</code>来获取路由中的参数</strong>：</p> <p>Register组件：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>注册页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>当前的路由参数是：{{this.$route.params.username}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>也可以在一个路由中设置多段“路径参数”，对应的值都会设置到 <code>$route.params</code></p> <p>src/router/index.js</p> <div class="language-js extra-class"><pre class="language-js"><code> path<span class="token operator">:</span> <span class="token string">'/register/:username/post/:id'</span><span class="token punctuation">,</span>
</code></pre></div><p>Home.vue</p> <div class="language- extra-class"><pre class="language-text"><code>   &lt;router-link to=&quot;/register/Alice/post/123&quot;&gt; 传多个参数&lt;/router-link&gt;
</code></pre></div><p>Register.vue</p> <div class="language- extra-class"><pre class="language-text"><code> &lt;p&gt;获取参数：{{$route.params.username}}----{{$route.params.id}&lt;/p&gt;
</code></pre></div><h4 id="_2、用name传递参数"><a href="#_2、用name传递参数" class="header-anchor">#</a> 2、用name传递参数</h4> <p>在路由文件src/router/index.js里配置name属性：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>   
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;about&quot; */</span> <span class="token string">'../views/About.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>模板里(src/App.vue)用<code>$route.name</code>来接收 比如：<code>&lt;p&gt;当前组件名：v-5bbecfe5&lt;/p&gt;</code></p> <h4 id="_3、在-router-link-中通过params来传递参数"><a href="#_3、在-router-link-中通过params来传递参数" class="header-anchor">#</a> 3、在&lt;router-link&gt;中通过params来传递参数</h4> <p>to接受对象，动态绑定，加冒号。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{name:'register',params:{username:'qihoo',id:'360'}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 使用params方式传参<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>接收参数：</p> <div class="language-html extra-class"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>在&quot;roueter-link&quot;中通过params来传递参数:{{$route.params.username}}----{{$route.params.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>也可在路由文件src/router/index.js里配置</p> <h4 id="_4、在-router-link-中通过query来传递参数"><a href="#_4、在-router-link-中通过query来传递参数" class="header-anchor">#</a> 4、在&lt;router-link&gt;中通过query来传递参数</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{name:'register',query:{queryId:200}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>使用Query方式<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Register组件：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>query方式得到的参数：{{this.$route.query.queryId}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_3-5-路由的重定向"><a href="#_3-5-路由的重定向" class="header-anchor">#</a> 3.5 路由的重定向</h3> <p>从 <code>/a</code> 重定向到 <code>/b</code>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/a'</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">'/b'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong><code>s/a</code> 的别名是 <code>/b</code>，意味着，当用户访问 <code>/b</code> 时，URL 会保持为 <code>/b</code>，但是路由匹配则为 <code>/a</code>，就像用户访问 <code>/a</code> 一样。</strong></p> <p>上面对应的路由配置为：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/a'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> <span class="token constant">A</span><span class="token punctuation">,</span> alias<span class="token operator">:</span> <span class="token string">'/b'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-6-设置404页面"><a href="#_3-6-设置404页面" class="header-anchor">#</a> 3.6  设置404页面</h3> <p><code>path:'*'</code>表示输入地址不匹配，可自定义Error页面。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
   path<span class="token operator">:</span><span class="token string">'*'</span><span class="token punctuation">,</span>
   component<span class="token operator">:</span>Error
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-7-使用-children-属性实现路由嵌套"><a href="#_3-7-使用-children-属性实现路由嵌套" class="header-anchor">#</a> 3.7 使用 <code>children</code> 属性实现路由嵌套</h3> <p>一个被渲染组件同样可以包含自己的嵌套 <code>&lt;router-view&gt;</code>，以Register组件中的实现为例：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>注册页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
       <span class="token comment">&lt;!-- 使用 router-view 组件占位 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>下面是嵌套的子组件：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>定义路由：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/register/:username'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/register/Register.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
          <span class="token comment">//匹配register/:username/profile</span>
        path<span class="token operator">:</span> <span class="token string">'profile'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/register/Profile.vue'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>3.8 路由的导航守卫</p> <p>监听到路由发生变化时进行相关的操作。</p> <h4 id="_1-、全局前置守卫"><a href="#_1-、全局前置守卫" class="header-anchor">#</a> 1 、全局前置守卫</h4> <p>每个守卫方法接收三个参数：</p> <ul><li><strong><code>to: Route</code></strong>: 即将要进入的目标 <a href="https://router.vuejs.org/zh/api/#%E8%B7%AF%E7%94%B1%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">路由对象<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><strong><code>from: Route</code></strong>: 当前导航正要离开的路由</li> <li><strong><code>next: Function</code></strong>: 一定要调用该方法来 <strong>resolve</strong> 这个钩子。执行效果依赖 <code>next</code> 方法的调用参数。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   Progress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// start progress bar</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>name <span class="token operator">!==</span> <span class="token string">'Login'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isAuthenticated<span class="token punctuation">)</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Login'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// 如果用户未能验证身份，则 `next` 会被调用两次</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_2、全局后置钩子"><a href="#_2、全局后置钩子" class="header-anchor">#</a> 2、全局后置钩子</h4> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// finish progress bar</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_3、组件内的路由"><a href="#_3、组件内的路由" class="header-anchor">#</a> 3、组件内的路由</h4> <p>直接输入地址改变路由不会触发，使用link 和前进后退按钮可触发。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> answer <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Do you really want to leave? you have unsaved changes!'</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>answer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_3-8-路由元信息"><a href="#_3-8-路由元信息" class="header-anchor">#</a> 3.8  路由元信息</h3> <p>路由记录可以是嵌套的，因此，当一个路由匹配成功后，他可能匹配多个路由记录。通过meta可以判断是否有指定的路由信息。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home<span class="token punctuation">,</span>
    meta<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string">'yes'</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>matched<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>yes
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'yes meta'</span><span class="token punctuation">)</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/login'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'no meta'</span><span class="token punctuation">)</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="_3-6-route-和-router的区别"><a href="#_3-6-route-和-router的区别" class="header-anchor">#</a> 3.6 <code>$route</code> 和 <code>$router</code>的区别</h3> <p><strong>$route 是“路由信息对象”，包括 path，params，hash，query，fullPath，matched，name 等路由信息参数。</strong></p> <p><strong>$router 是“路由实例”对象，即使用 new VueRouter创建的实例，包括了路由的跳转方法，钩子函数等。</strong></p> <p><strong>$router常见跳转方法:</strong></p> <div class="language-html extra-class"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>goTo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
export default {
  methods:{
    goTo(){
      this.$router.go(-1)//返回到上一次访问的页面
      this.$router.replace('/about')//指定跳转的地址，点击浏览器的返回键直接返回首页了
      this.$router.replace({name:'register'})//指定跳转路由的名字
      this.$router.push({name:'Home'})//通过push进行跳转路由
      this.$router.push('/hi')//通过push进行跳转,返回时可以回到上一页
    }
  }
</code></pre></div><p><strong><code>$router.push</code>和<code>$router.replace</code>的区别</strong>：</p> <ul><li>使用push方法的跳转会向 history 栈添加一个新的记录，当我们点击浏览器的返回按钮时可以看到之前的页面。相当于BOM的location对象 的assign()方法。</li> <li>使用replace方法不会向 history 添加新记录，而是替换掉当前的 history 记录，即当replace跳转到的网页后，‘后退’按钮不能查看之前的页面。对应的是location的replace()</li></ul> <h2 id="四、前端工程化"><a href="#四、前端工程化" class="header-anchor">#</a> 四、前端工程化</h2> <p>工程化是一种思想，让项目的开发实现规范化（git）、模块化（css、js的模块化）、组件化（vue、react的组件化思想）、自动化（vue-cli、webpack、jtest）。</p></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div></div></div>
    <script src="/myblog/assets/js/app.e2692b97.js" defer></script><script src="/myblog/assets/js/3.643a243b.js" defer></script><script src="/myblog/assets/js/1.15ab7d5d.js" defer></script><script src="/myblog/assets/js/22.a2f52c74.js" defer></script>
  </body>
</html>
